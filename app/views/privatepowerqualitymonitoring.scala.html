@*
This file is part of opq-ao.

opa-ao is free software: you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

opa-ao is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with opq-ao. If not, see <http://www.gnu.org/licenses/>.

Copyright 2013 Anthony Christe
*@

@(alerts: List[Alert])

  @import helper._
  @implicitFieldConstructor = @{
    FieldConstructor(twitterBootstrapInput.render)
  }

  @main("Private Power Quality Monitoring", menu("Private Power Quality Monitoring", false)) {
    <div class="row">
      <div class="span3">
        <form class="well well-small">
          <b>Filter Alerts</b>
          <label class="checkbox" for="voltage_checkbox">
            <input type="checkbox" value="true" id="voltage_checkbox" name="checkbox"> Voltage</label>
          <input type="text" class="input-mini" value="218"> Voltage less than
          <br>
          <input type="text" class="input-mini" value="222"> Voltage greater than
          <br>
          <br>
          <label class="checkbox" for="frequency_checkbox">
            <input type="checkbox" value="true" id="frequency_checkbox" name="checkbox"> Frequency</label>
          <input type="text" class="input-mini" value="218"> Frequency less than
          <br>
          <input type="text" class="input-mini" value="222"> Frequency greater than
          <br>
          <br>
          <label class="checkbox" for="device_checkbox">
            <input type="checkbox" value="true" id="device_checkbox" name="checkbox"> Device</label>
          <hr>
          <b>Filter Devices</b>
          <label class="checkbox" for="device_0_checkbox">
            <input type="checkbox" value="true" id="device_0_checkbox" name="checkbox" checked="checked">
            <span>0123-4567-89AB-CDEF (Home)</span>
          </label>
          <label class="checkbox" for="device_1_checkbox">
            <input type="checkbox" value="true" id="device_1_checkbox" name="checkbox" checked="checked">
            <span>ABCD-EF01-2345-6789 (Office)</span>
          </label>
          <hr>
          <b>Timeline</b>
          <br>
          <select>
            <option>Past minute</option>
            <option>Past hour</option>
            <option>Past day</option>
            <option>Past week</option>
            <option>Past month</option>
            <option>Past year</option>
            <option>Custom range</option>
          </select>
          <br>
          <b>Custom Time Range</b>
          <br>
          <table>
            <tbody>
              <tr>
                <td></td>
                <td>mm/dd/yyyy</td>
                <td>hh:mm</td>
              </tr>
              <tr>
                <td>Start Date</td>
                <td>
                  <input type="text" class="input-small">
                </td>
                <td>
                  <input type="text" class="input-mini">
                </td>
              </tr>
              <tr>
                <td>End Date</td>
                <td>
                  <input type="text" class="input-small">
                </td>
                <td>
                  <input type="text" class="input-mini">
                </td>
              </tr>
            </tbody>
          </table>
          <hr />
          <a href="#">Download Visible Alerts (.csv)</a>
        </form>
      </div>
      <div class="span9">
        <table class="table table-striped table-bordered">
          <thead>
            <tr>
              <th>Device Id</th>
              <th>Description</th>
              <th>Alert Type</th>
              <th>Timestamp</th>
              <th>Duration (ms)</th>
              <th>Alert Value</th>
            </tr>
          </thead>
          <tbody>
          @for(alert <- alerts) {
            <tr>
              <td>@alert.getDevice.getDeviceId</td>
              <td>@alert.getDevice.getDescription</td>
              <td>@alert.getAlertType</td>
              <td>@utils.DateUtils.toDateTime(alert.getTimestamp)</td>
              <td>@alert.getAlertDuration</td>
              <td>
                @alert.getAlertValue
                @if(alert.getAlertType.equals(Alert.AlertType.FREQUENCY)) {
                  Hz
                }
                @if(alert.getAlertType.equals(Alert.AlertType.VOLTAGE)) {
                  Volts
                }
              </td>
            </tr>
          }
          </tbody>
        </table>
      </div>
    </div>
  }